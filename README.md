# COVID-19 CAPNOGRAPH

A Capnograph is a medical device for measuring patient breathing CO2.

This project implements an open-source, cheap and quick to manufacture alternative to comercial capnographs during the COVID-19 pandemic.

This project is part of [Coronavirusmakers.org](https://www.coronavirusmakers.org/) maker movement.

## Software
We try to make the project easy replicable, so we code the project to be easily hacked to use your avaliable hardware materials. See the hardware section to understand wich hardware could work before trying to modify the software or colaborate to the project.

We are open to colaboration so we are expecting your pull request!! 

## Hardware
* CO2 sensor [(see documentation)](HW_co2sensors.md)
* Microcontroller [(see documentation)](HW_microcontrollers.md)
* Display [(see documentation)](HW_displays.md)
* Air acquisition [(see documentation)](HW_air_acquisition.md)
  * Air tubes
  * Water trap
  * Particulate hidrofobic filter
  * Pump

### "BricoLabs" prototype
The first prototype was funded by [BricoLabs](https://bricolabs.cc/) (OSHW maker non profit association) and builded by [TCRobotics](https://github.com/TCRobotics). Also the expensive CO2 sensor was provided for free for this project by [Gas Sensing Solutions UK](https://www.gassensing.co.uk/), thanks for all the help!

You have many photos at [Design/BricoLabs prototype](Design/BricoLabs%20prototype) folder.  
#### Materials used at "BricoLabs" prototype  
* [SprintIR-R-20](https://www.gassensing.co.uk/product/sprintir-r/) CO2 sensor
* [TTGO MINI 32](https://es.aliexpress.com/item/32846710180.html) ESP32 development board
* [1.3" TFT IPS 240x240 65k ST7735 Display](https://www.aliexpress.com/item/32947890530.html?spm=a2g0s.9042311.0.0.274263c0QKCxM4)
* Air adquisition
  * [6mm ID tube](https://www.amazon.es/gp/product/B00MDICUYG/)
  * [8mm ID tube](https://www.amazon.es/gp/product/B00MDICUHI/)
  * (Pending to find suitable water trap)
  * [Particulate hidrofobic filter](https://tienda.fisaude.com/filtro-antibacteriano-hidrofobico-para-aspiradores-secreciones-conector-8mm-p-37398.html)
  * [ROB-10398 Sparkfun air pump](https://www.tme.eu/es/details/sf-rob-10398/motores-de-cc/sparkfun-electronics-inc/rob-10398/)

#### Pinout
| ESP32 pin | Function             | Device pin |
|:----------|:---------------------|:-----------|
| 3V3       | LCD Power            | LCD VCC    |
| 3V3       | LCD Back light       | LCD BLK    |
| GND       | LCD Power            | LCD GND    |
| 18        | LCD SPI clock        | LCD SCK    |
| 23        | LCD SPI data         | LCD SDA    |
| 2         | LCD SPI Data Command | LCD DC     |
| 4         | LCD Reset            | LCD RES    |
| 3V3       | CO2 Sensor Power     | LCD VCC    |
| GND       | CO2 Sensor Power     | LCD GND    |
| 16        | CO2 Sensor TX        | Sensor TX  |
| 17        | CO2 Sensor RX        | Sensor RX  |

## Team
* [Julio Beltrán Ortega](https://github.com/jubeormk1)
* [Miguel Fernandez](https://github.com/muit)  
* [Raul Quesada](https://github.com/raquenaengineering)  
* [Andrés SB](https://github.com/andrwssb)  
* [Alejandro Taracido](https://github.com/tcrobotics)
* Add you here in alphabetical order!

## Project external resources
- Main Web for resources, summaries and colaboration channels: https://capnography.zyrosite.com/
- Specification: https://docs.google.com/document/d/1Fy8tQPNT1egSTognoJjIqcrcn0vAoZsc47lan9tsMqQ/edit#
- [Drive Folder](https://drive.google.com/drive/folders/1-fBFVFW2NwqgQL-am8wTxIKTYgCndMPH?usp=sharing)

## External resources
* About Capnography: https://en.wikipedia.org/wiki/Capnography
* Real-time human respiration carbon dioxide measurement device
for cardiorespiratory assessment - Om Prakash Singh: https://www.researchgate.net/publication/319942280_Real_time_human_respiration_carbon_dioxide_measurement_device_for_cardiorespiratory_assessment
* Diseño de un Capnógrafo - Milton Andrés Piedra Avecillas: http://dspace.uazuay.edu.ec/bitstream/datos/2199/1/09661.pdf

## Thanks
[Gas Sensing Solutions UK](https://www.gassensing.co.uk/) for provide for free one sensor for this project  
[Om Prakash Singh](https://www.researchgate.net/profile/Om_Prakash_Singh10) for his research on low cost medical devices and his personal help  
All of our [Telegram group](https://t.me/joinchat/AHkqjBnI4c5RSNvks5OjxA) members for their many contributions
